{% extends 'livre/layout.html.twig' %}

{% block content_detail %}
    <h2>Liste complète des Livres</h2>
    <a class="link" href="{{ path('livre_ajout') }}">Ajouter un livre</a>
    <table>
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Titre</th>
                <th scope="col">Année</th>
                <th scope="col">Nombre de pages</th>
                <th scope="col">Auteur</th>
                <th scope="col">Modifier</th>
            </tr>
        </thead>
        <tbody>
            {% for book in livre %}
                <tr>
                    <td>{{book.id}}</td>
                    <td><a class="link" href="{{ path('livre_detail', { 'id': book.id }) }}">{{book.titre}}</a></td>
                   <td>{{book.annee}}</td>
                    <td>{{book.nbPages}}</td>
                    {% if book.auteur %}
                    <td>
                        {{book.auteur.prenom}} {{book.auteur.nom}}
                    </td>
                    {% endif %}
                    <td><a class="link" href="{{ path('livre_modifier_livre', { 'id': book.id }) }}">Modifier</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
